#include <iostream>
#include <map>
using namespace std;int main(){int a,b,c,d,e,f;cin>>d>>d>>d>>e>>b>>d>>d>>f;map<int,int>L;for(;f>a++;){cin>>d>>c;L[d]=c;}for(;;){string D;cin>>f>>c>>D;a=(f-e?L[f]:b);cout<<(((a>c&&D=="LEFT")||(a<c&&D[0]=='R'))?"BLOCK\n":"WAIT\n");}}